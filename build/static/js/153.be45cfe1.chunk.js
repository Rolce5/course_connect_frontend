"use strict";(self.webpackChunkcourseconnect=self.webpackChunkcourseconnect||[]).push([[153],{4153:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var r=t(5200),l=t(5475),a=t(531),i=t(3546),d=t(5043),n=t(579);const o=e=>{var s,t;let{quizScore:o,bestScore:c,quizAttempts:m,weakTopics:x,currentQuiz:h,selectedAnswers:u,attemptsLeft:g,courseId:b,prepareQuizRetake:v,onClose:p}=e;const j=m.length>=3,y=g>0&&o<70&&!j,[N,f]=(0,d.useState)(!0),w=Array.from(new Set(null===h||void 0===h||null===(s=h.questions)||void 0===s||null===(t=s.map((e=>e.topic)))||void 0===t?void 0:t.filter((e=>e)))).length>0;(0,d.useEffect)((()=>{const e=e=>{"Escape"===e.key&&p()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[p]);const k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},R={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.2}}};return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 p-6 flex items-center justify-center z-50 transition-opacity duration-300",onClick:e=>{e.target===e.currentTarget&&p()},children:(0,n.jsx)(a.P.div,{className:"bg-white w-full max-w-2xl max-h-[90vh] rounded-xl shadow-lg border border-gray-100 overflow-hidden",initial:"hidden",animate:"visible",variants:k,children:(0,n.jsxs)("div",{className:"p-5 space-y-5",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[o>=70?(0,n.jsx)("div",{className:"p-2 bg-green-100 rounded-full mr-3",children:(0,n.jsx)(r.YrT,{className:"text-green-600 text-xl"})}):(0,n.jsx)("div",{className:"p-2 bg-yellow-100 rounded-full mr-3",children:(0,n.jsx)(r.S8s,{className:"text-yellow-600 text-xl"})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-xl font-bold text-gray-800",children:["Quiz ",o>=70?"Passed":"Review Needed",(0,n.jsxs)("span",{className:"ml-2 px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-800",children:[o,"%"]})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["Best: ",c,"% \u2022 Attempts: ",m.length,"/",3]})]})]}),(0,n.jsx)("button",{onClick:p,className:"p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close review",children:(0,n.jsx)(r.yGN,{className:"text-gray-500"})})]}),(0,n.jsx)(i.N,{children:N&&(0,n.jsxs)(a.P.div,{className:"space-y-5",initial:"hidden",animate:"visible",exit:"hidden",variants:k,children:[o<70?(0,n.jsx)(a.P.div,{className:"p-4 bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg border border-yellow-200 shadow-sm",variants:R,children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg mr-3",children:(0,n.jsx)(r.D1A,{className:"text-yellow-600 text-xl"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"Recommended Review"}),(0,n.jsx)("p",{className:"text-gray-600 mb-3",children:w?"Focus on these topics before retrying:":"Review the quiz questions before retrying:"}),w?(0,n.jsx)("ul",{className:"space-y-3",children:x.map(((e,s)=>(0,n.jsxs)(a.P.li,{className:"flex items-start bg-white p-3 rounded-lg shadow-xs border border-gray-100",variants:R,children:[(0,n.jsx)("div",{className:"p-1.5 bg-red-100 rounded-full mr-3",children:(0,n.jsx)(r.eHT,{className:"text-red-500"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-800",children:e}),(0,n.jsxs)(l.N_,{to:`/courses/${b}/resources?topic=${encodeURIComponent(e)}`,className:"mt-1 inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:["Review Resources",(0,n.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]},s)))}):(0,n.jsxs)(a.P.div,{className:"flex items-start bg-white p-3 rounded-lg shadow-xs border border-gray-100",variants:R,children:[(0,n.jsx)("div",{className:"p-1.5 bg-red-100 rounded-full mr-3",children:(0,n.jsx)(r.eHT,{className:"text-red-500"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-800",children:"All quiz questions"}),(0,n.jsxs)(l.N_,{to:`/courses/${b}/resources`,className:"mt-1 inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:["Review Course Materials",(0,n.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]})]})]})}):(0,n.jsx)(a.P.div,{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 shadow-sm",variants:R,children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:(0,n.jsx)(r.YrT,{className:"text-green-600 text-xl"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"Strong Understanding"}),(0,n.jsx)("p",{className:"text-gray-600 mb-3",children:w?"You demonstrated mastery of:":"You demonstrated mastery of the quiz content"}),w&&(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Array.from(new Set(h.questions.filter((e=>u[e.id]===e.correctAnswer&&e.topic)).map((e=>e.topic)))).map(((e,s)=>(0,n.jsx)(a.P.div,{className:"bg-white px-3 py-2 rounded-lg shadow-xs border border-gray-100 text-sm font-medium text-gray-700",variants:R,children:e},s)))})]})]})}),j?(0,n.jsx)(a.P.div,{className:"pt-3",variants:R,children:(0,n.jsxs)("div",{className:"flex items-start p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,n.jsx)("div",{className:"p-2 bg-gray-200 rounded-lg mr-3",children:(0,n.jsx)(r.F5$,{className:"text-gray-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold text-gray-800",children:"Maximum Attempts Reached"}),(0,n.jsxs)("p",{className:"text-gray-600",children:["You've used all ",3," attempts. Please proceed to the next lesson."]})]})]})}):y?(0,n.jsxs)(a.P.div,{className:"pt-3 space-y-4",variants:R,children:[(0,n.jsxs)("div",{className:"flex items-start p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,n.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:(0,n.jsx)(r.S8s,{className:"text-blue-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold text-gray-800",children:"Ready for Retake?"}),(0,n.jsxs)("p",{className:"text-gray-600",children:["After reviewing, you'll get a new set of questions on the same ",w?"topics.":"material."]})]})]}),(0,n.jsxs)("button",{onClick:v,className:"w-full px-6 py-3 bg-gradient-to-r from-yellow-400 to-amber-500 hover:from-yellow-500 hover:to-amber-600 text-white font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98]",children:["Retake Quiz (",g," ",1===g?"attempt":"attempts"," left)"]})]}):null]})})]})})})}}}]);
//# sourceMappingURL=153.be45cfe1.chunk.js.map